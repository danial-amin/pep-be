# Railway Configuration for Frontend Service
# This file configures how Railway deploys the frontend service
# IMPORTANT: In Railway dashboard, set Root Directory to "frontend"

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
# Ensure we're building from the frontend directory
watchPatterns = ["frontend/**"]
# Build arguments - set VITE_API_URL as a build-time variable in Railway
# Railway will pass this as a build argument during the Docker build
# Set this in Railway dashboard: Settings → Variables → Add Variable
# Make sure to set it BEFORE building, or trigger a new build after setting it

[deploy]
# Use root path for healthcheck (simpler, more reliable)
healthcheckPath = "/"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# IMPORTANT: Set VITE_API_URL as a BUILD-TIME variable in Railway
# Go to: Railway Dashboard → Your Frontend Service → Settings → Variables
# Add: VITE_API_URL = https://your-backend-service.up.railway.app/api/v1
# Then trigger a new deployment (Railway will rebuild with this value)
